/* * Update notofier - contains the functionality for the update notifier page. * @author Pexeto * http://pexetothemes.com */function UpdateNotifier(redirectUrl, validDetails) {	this.redirectUrl = redirectUrl;	this.validDetails = validDetails;}(function($) {	"use strict";		/**	 * Inits the main functionality.	 */	UpdateNotifier.prototype.init = function() {		this.setInstructionsDialog();		this.setUpdateDialog();	};	/**	 * Inits the instructions dialog box functionality.	 */	UpdateNotifier.prototype.setInstructionsDialog = function() {		$('#manual-instructions-btn').on("click", function(e) {			e.preventDefault();			$('#manual-instructions').dialog({				width: 500,				maxHeight: 500,				modal: true,				dialogClass:'pexeto-dialog'			});		});	};	/**	 * Inits the update dialog box functionality. This dialog box contains	 * an "Update" and "Cancel" buttons which should trigger the corresponding	 * init event functionality.	 */	UpdateNotifier.prototype.setUpdateDialog = function() {		var redirectUrl = this.redirectUrl,			validDetails = this.validDetails;		$('#update-btn').on("click", function(e) {			e.preventDefault();			if(redirectUrl && validDetails) {				$('#confirm-update').dialog({					modal: true,					dialogClass: 'pexeto-dialog',					buttons: {						"Update Theme": function() {							window.location = redirectUrl;						},						Cancel: function() {							$(this).dialog("close");						}					}				});			} else {				$('#no-details').dialog({					modal: true,					dialogClass:'pexeto-dialog'				});			}		});	};	})(jQuery);jQuery(document).ready(function($) {	$('#submit_theme_update').on("click", function(e) {		$_this = jQuery(this);		var username_evt = $('#username_evt').val();		var api_key_evt = $('#api_key_evt').val();		var purchase_code_evt = $('#purchase_code_evt').val();		data = {				'action':'theme_update_ajax_request',				'username_evt' : username_evt,				'api_key_evt' : api_key_evt,				'purchase_code_evt' : purchase_code_evt				};		$.ajax({			url: ajaxurl,			data: data,			success:function(data) {				$('.mesage_theme_update').show().text(data).fadeOut(5000);			},			error: function(errorThrown){				alert(errorThrown);			}		});		return false;	})});