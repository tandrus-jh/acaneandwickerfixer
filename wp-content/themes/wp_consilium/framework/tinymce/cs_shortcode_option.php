<?phpfunction cs_shortcode_option_render($title = null, $settings = null) {    $shortcode_option = null;    $values = "";    $field_title = "";    $description = "";    if (isset($settings['values'])) {        $values = $settings['values'];    }    if (isset($settings['title'])) {        $field_title = $settings['title'];    }    if (isset($settings['description'])) {        $description = $settings['description'];    }    $shortcode_option = "<div class='option-attribute'>";    switch ($settings['type']) {        case 'text':        case 'textfield':            $shortcode_option .= '                <div class="label"><label for="shortcode-option-' . esc_attr($title) . '"><div><strong>' . $field_title . '</strong></div><span>' . $description . '</span></label></div>                <div class="content"><input id ="option_' . esc_attr($title) . '"class="attr" type="text" data-attrname="' . esc_attr($title) . '" value="' . esc_attr($values) . '" /></div>';            break;        case 'checkbox':            $selected = '';            $shortcode_option .= '                <div class="label"><label for="shortcode-option-' . esc_attr($title) . '"><div><strong>' . $field_title . '</strong></div><span>' . $description . '</span></label></div>                <div class="content"><input id ="option_' . esc_attr($title) . '"class="attr" type="checkbox" data-attrname="' . esc_attr($title) . '" ' . esc_attr($selected) . ' /></div>';            break;        case 'select':            $shortcode_option .= '                <div class="label"><label for="' . esc_attr($title) . '"><div><strong>' . $field_title . '</strong></div><span>' . $description . '</span></label></div>                <div class="content"><select id="option_' . esc_attr($title) . '" class="attr" data-attrname="' . esc_attr($title) . '">';            foreach ($values as $value => $val) {                $shortcode_option .= '<option value="' . esc_attr($value) . '">' . $val . '</option>';            }            $shortcode_option .= '</select></div>';            break;        case 'dropdown':            $shortcode_option .= '                <div class="label"><label for="' . esc_attr($title) . '"><div><strong>' . $field_title . '</strong></div><span>' . $description . '</span></label></div>                <div class="content"><select id="option_' . esc_attr($title) . '" class="attr" data-attrname="' . esc_attr($title) . '">';            foreach ($values as $value => $val) {                $shortcode_option .= '<option value="' . esc_attr($val) . '">' . $value . '</option>';            }            $shortcode_option .= '</select></div>';            break;        case 'pro_taxonomy':            $value_arr = $values;            if (!is_array($value_arr)) {                $value_arr = array_map('trim', explode(',', $value_arr));            }            $terms_fields = array();            if (!empty($settings['taxonomy'])) {                $terms = get_terms($settings['taxonomy'], 'orderby=count&hide_empty=0');                if ($terms && !is_wp_error($terms)) {                    foreach ($terms as $term) {                        $terms_fields[] = sprintf(                                '<label><input id="%s" class="%s" type="checkbox" name="%s" value="%s" %s/>%s</label><br/>', esc_attr($settings['type']) . '-' . esc_attr($term->slug), esc_attr($settings['type']) . ' ' . esc_attr($settings['type']), "option_" . esc_attr($settings['type']), esc_attr($term->term_id), esc_attr(checked(in_array($term->term_id, $value_arr), true, false)), $term->name                        );                    }                }            }			$taxonomy_terms = '';			if(is_array($terms_fields)){				$taxonomy_terms = implode($terms_fields);			}            $shortcode_option .= '<div class="label"><label><strong> ' . $field_title . ' </strong></label></div>                                    <div class="content cs-taxonomy-block">'                    . '<input data-attrname="' . esc_attr($title) . '" type="hidden" name="' . esc_attr($settings['type']) . '" class="attr wpb_vc_param_value wpb-checkboxes ' . esc_attr($settings['type']) . ' ' . esc_attr($settings['type']) . '_field" value="' . esc_attr($values) . '"/>'                    . '<div class="cs-taxonomy-terms">'                    . $taxonomy_terms                    . '</div>'                    . '</div>';            break;        case "image":        case "attach_image":            $shortcode_option .= '            <div class="shortcode-dynamic-item" id="options-item" data-name="image-upload">                                <div class="label"><label><strong> ' . $field_title . ' </strong></label></div>                                <div class="content">                <input type="hidden" id="options-item"  />                                    <img class="pro-screenshot" id="' . esc_attr($title) . '" src="" />                                    <a data-update="Select File" data-choose="Choose a File" href="javascript:void(0);"class="pro-upload button-secondary" rel-id="">' . __('Upload', THEMENAME) . '</a>                                    <a href="javascript:void(0);" class="pro-upload-remove" style="display: none;">' . __('Remove Upload', THEMENAME) . '</a>';                if (!empty($description))                    $shortcode_option .= $description;                $shortcode_option .='                                </div>            </div>';                break;        case 'colorpicker':            if(class_exists('WPBakeryVisualComposerAbstract')){                if (get_bloginfo('version') >= '3.5') {                    $shortcode_option .= '           <div class="label"><label><strong>'.$field_title.': </strong></label></div>           <div class="content"><input type="text" value="" class="popup-colorpicker" style="width: 70px;" data-default-color=""/></div>';                } else {                    $shortcode_option .='You\'re using an outdated version of WordPress. Please update to use this feature.';                }            }            else{                $shortcode_option .= '                <div class="label"><label for="shortcode-option-' . esc_attr($title) . '"><div><strong>' . $field_title . '</strong></div><span>' . $description . '</span></label></div>                <div class="content"><input id ="option_' . esc_attr($title) . '"class="attr" type="text" data-attrname="' . esc_attr($title) . '" value="' . esc_attr($values) . '" /></div>';            }                break;        case 'textarea':            $shortcode_option .= '		<div class="label"><label for="shortcode-option-' . esc_attr($title) . '"><strong>' . $field_title . ': </strong></label></div>		<div class="content"><textarea data-attrname="' . esc_attr($title) . '">'.$values.'</textarea> ' . $description . '</div>';            break;        default:            $shortcode_option .= '		<div class="label"><label for="shortcode-option-' . esc_attr($title) . '"><strong>' . $field_title . ': </strong></label></div>		<div class="content"><input class="attr" type="text" data-attrname="' . esc_attr($title) . '" value="" />' . $description . '</div>';            break;    }    $shortcode_option .= "</div>";    return $shortcode_option;}?>